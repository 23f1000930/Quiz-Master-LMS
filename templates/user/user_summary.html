{% extends 'base/user_base.html' %}
{% block page_title %} Home {% endblock %}

{% block user_css %}
<style>   
    .user-summary1 {
        background-image: linear-gradient(310deg, #7928ca, #ff0080);
    }

    .user-summary2 {
        background-color: #2a3e55 !important;
    }
    
    .view-btn{
        padding: 0px 24px;
        margin-top: -3px;
    }
</style>
{% endblock %}

{% block user_content %} 
<div class="px-4 text-center">

    <div class="d-flex mb-3 row g-2 mt-3" style="padding-inline: 98px;">
        <a class="btn btn-outline-dark w-25" type="button" style="height: 40px; font-size: 19px;"><i class="bi bi-box-arrow-down"></i> Export Data</a>
        <!-- Clock item STARTS -->
          <div class="d-flex justify-content-center ms-auto align-items-center p-4 bg-secondary-subtle bg-opacity-15 rounded-3" style="height: 73px; width: 264px;">
            <span class="display-6 lh-1 text-dark mb-0"><i class="bi bi-clock"></i></i></span>
            <div class="ms-4 h6 fw-normal mb-0">
              <div class="d-flex">
                <h5 class="purecounter mb-0 fw-bold" data-purecounter-start="0" data-purecounter-end="10" data-purecounter-delay="200" data-purecounter-duration="0">9</h5>
              </div>
              <p class="mb-0">Quiz Attempted</p>
            </div>
        <!-- Clock item ENDS-->
        </div>
    </div>    

    <!--user short summary STARTS-->
    <div class="container my-5">
        <div class="row g-4">
          <!-- Counter item -->
          <div class="col-sm-6 col-xl-3">
            <div class="d-flex justify-content-center align-items-center p-4 user-summary1 bg-opacity-15 rounded-3">
              <span class="display-6 lh-1 text-white mb-0"><i class="bi bi-check2-square"></i></span>
              <div class="ms-4 h6 fw-normal mb-0">
                <div class="d-flex">
                  <h5 class="purecounter mb-0 fw-bold text-white" data-purecounter-start="0" data-purecounter-end="10" data-purecounter-delay="200" data-purecounter-duration="0">{{ attempted_quizzes }}</h5>
                </div>
                <p class="mb-0 text-white">Quiz Attempted</p>
              </div>
            </div>
          </div>
          <!-- Counter item -->
          <div class="col-sm-6 col-xl-3">
            <div class="d-flex justify-content-center align-items-center p-4 user-summary2 bg-opacity-10 rounded-3">
              <span class="display-6 lh-1 text-warning mb-0"><i class="bi bi-file-earmark-bar-graph"></i></span>
              <div class="ms-4 h6 fw-normal mb-0">
                <div class="d-flex">
                  <h5 class="purecounter mb-0 fw-bold text-warning" data-purecounter-start="0" data-purecounter-end="200" data-purecounter-delay="200" data-purecounter-duration="0">{{ avg_score }}</h5>
                  <span class="mb-0 h5 text-warning">%</span>
                </div>
                <p class="mb-0 text-warning">Performance</p>
              </div>
            </div>
          </div>
          <!-- Counter item -->
          <div class="col-sm-6 col-xl-3">
            <div class="d-flex justify-content-center align-items-center p-4 user-summary1 bg-opacity-10 rounded-3">
              <span class="display-6 lh-1 text-white mb-0"><i class="bi bi-journals"></i></i></span>
              <div class="ms-4 h6 fw-normal mb-0">
                <div class="d-flex">
                  <h5 class="purecounter mb-0 fw-bold text-white" data-purecounter-start="0" data-purecounter-end="6" data-purecounter-delay="300" data-purecounter-duration="0">{{ no_enrolled_sub }}</h5>
                </div>
                <p class="mb-0 text-white">Current Courses</p>
              </div>
            </div>
          </div>
          <!-- Counter item -->
          <div class="col-sm-6 col-xl-3">
            <div class="d-flex justify-content-center align-items-center p-4 user-summary2 bg-opacity-10 rounded-3">
              <span class="display-6 lh-1 text-warning mb-0"><i class="bi bi-file-earmark-check"></i></span>
              <div class="ms-4 h6 fw-normal mb-0">
                <div class="d-flex">
                  <h5 class="purecounter mb-0 fw-bold text-warning" data-purecounter-start="0" data-purecounter-end="6" data-purecounter-delay="300" data-purecounter-duration="0">{{ total_quizzes-attempted_quizzes }}</h5>
                 
                </div>
                <p class="mb-0 text-warning">Quizzes Left</p>
              </div>
            </div>
          </div>
        </div>
    </div>
    <!--user short summary ENDS-->

    <!--upcoming table STARTS-->
    <div class="container my-5">
      <div class="container my-5">
        <h3 class="text-center"><span class="badge text-bg-primary">Subject-wise Average Quiz Scores</span></h3>
        
        <div class="d-flex justify-content-center mt-4">
            {% if chart_url1 %}
                <div class="chart-container border rounded p-3 bg-light shadow">
                    <img src="{{ chart_url1 }}" alt="User Subject-wise Average Scores" height="" class="img-fluid rounded">
                </div>
            {% else %}
                <p class="text-center text-muted">No quiz scores available to display.</p>
            {% endif %}
        </div>
    </div>
    </div>
    <!--upcoming table ENDS-->

</div>
{% endblock %}